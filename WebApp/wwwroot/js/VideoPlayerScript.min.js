function ScroolToVideo(){video&&video.scrollIntoView({behavior:"smooth"})}function initVideoVariables(){(video=document.querySelectorAll(".video")[0],videoControls=document.querySelectorAll(".video-controls")[0],playButton=document.querySelectorAll(".play")[0],playbackIcons=document.querySelectorAll(".playback-icons i"),timeElapsed=document.getElementById("time-elapsed"),duration=document.getElementById("duration"),progressBar=document.querySelectorAll(".progress-bar")[0],seek=document.querySelectorAll(".seek")[0],seekTooltip=document.querySelectorAll(".seek-tooltip")[0],volumeButton=document.getElementById("volume-button"),volumeIcons=document.querySelectorAll(".volume-button i"),volumeMute=document.querySelectorAll(".fa-volume-mute")[0],volumeLow=document.querySelectorAll(".fa-volume-down")[0],volumeMiddle=document.querySelectorAll(".fa-volume")[0],volumeHigh=document.querySelectorAll(".fa-volume-up")[0],volume=document.querySelectorAll(".volume")[0],playbackAnimation=document.querySelectorAll(".playback-animation")[0],fullscreenButton=document.querySelectorAll(".fullscreen-button")[0],videoContainer=document.querySelectorAll(".video-container")[0],fullscreenIcons=document.querySelectorAll(".video-container i"),pipButton=document.getElementById("pip-button"),videoWorks=!!document.createElement("video").canPlayType,nextEpisodeWrapper=document.getElementById("nextEpisodeCountDown"),nextEpisodeDuration=5,nextEpisodeTimeLeft=document.getElementById("nextEpisodeTimeLeft"),nextEpisodeStarted=!1,secs=nextEpisodeDuration,playButton)&&(playButton.addEventListener("click",togglePlay),video.addEventListener("play",updatePlayButton),video.addEventListener("pause",updatePlayButton),video.addEventListener("timeupdate",updateTimeElapsed),video.addEventListener("timeupdate",updateProgress),video.addEventListener("volumechange",updateVolumeIcon),video.addEventListener("click",togglePlay),video.addEventListener("click",animatePlayback),video.addEventListener("mouseenter",showControls),video.addEventListener("mouseleave",hideControls),videoControls.addEventListener("mouseenter",showControls),videoControls.addEventListener("mouseleave",hideControls),seek.addEventListener("mousemove",updateSeekTooltip),seek.addEventListener("click",skipAhead),volume.addEventListener("input",updateVolume),volumeButton.addEventListener("click",toggleMute),fullscreenButton.addEventListener("click",toggleFullScreen),pipButton.addEventListener("click",togglePip),document.addEventListener("keyup",keyboardShortcuts),video.addEventListener("loadedmetadata",initializeVideo),videoWorks&&(video.controls=!1,videoControls.classList.remove("hidden")),"pictureInPictureEnabled"in document||pipButton.classList.add("hidden"))}function initializeVideo(){const n=Math.round(video.duration);if(!isNaN(n)){seek.setAttribute("max",n);progressBar.setAttribute("max",n);const t=formatTime(n);duration.innerText=`${t.minutes}:${t.seconds}`;duration.setAttribute("datetime",`${t.minutes}m ${t.seconds}s`)}}function togglePlay(){video.paused||video.ended?video.play():video.pause()}function updatePlayButton(){playbackIcons.forEach(n=>n.classList.toggle("hidden"));video.paused?playButton.setAttribute("data-title","Play (spacebar)"):playButton.setAttribute("data-title","Pause (spacebar)")}function formatTime(n){if(!isNaN(n)){const t=new Date(n*1e3).toISOString().substr(11,8);return{minutes:t.substr(3,2),seconds:t.substr(6,2)}}}function updateTimeElapsed(){const n=formatTime(Math.round(video.currentTime));timeElapsed.innerText=`${n.minutes}:${n.seconds}`;timeElapsed.setAttribute("datetime",`${n.minutes}m ${n.seconds}s`)}function updateProgress(){seek.value=Math.round(video.currentTime);progressBar.value=Math.round(video.currentTime);video.duration-video.currentTime<=6&&nextEpisodeStart()}function updateSeekTooltip(n){const t=Math.round(n.offsetX/n.target.clientWidth*parseInt(n.target.getAttribute("max"),10));if(!isNaN(t)){seek.setAttribute("data-seek",t);const i=formatTime(t);seekTooltip.textContent=`${i.minutes}:${i.seconds}`;const r=video.getBoundingClientRect();seekTooltip.style.left=`${n.pageX-r.left}px`}}function skipAhead(n){const t=n.target.dataset.seek?n.target.dataset.seek:n.target.value;video.currentTime=t;progressBar.value=t;seek.value=t;seek.blur()}function updateVolume(){video.muted&&(video.muted=!1);video.volume=volume.value}function updateVolumeIcon(){volumeIcons.forEach(n=>{n.classList.add("hidden")});volumeButton.setAttribute("data-title","Mute (M)");video.muted||video.volume===0?(volumeMute.classList.remove("hidden"),volumeButton.setAttribute("data-title","Unmute (M)")):video.volume>0&&video.volume<=.3?volumeLow.classList.remove("hidden"):video.volume>.3&&video.volume<=.6?volumeMiddle.classList.remove("hidden"):volumeHigh.classList.remove("hidden")}function toggleMute(){video.muted=!video.muted;video.muted?(volume.setAttribute("data-volume",volume.value),volume.value=0):volume.value=volume.dataset.volume;volume.blur()}function animatePlayback(){playbackAnimation.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.3)"},],{duration:500})}function toggleFullScreen(){document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement?document.webkitExitFullscreen():videoContainer.webkitRequestFullscreen?videoContainer.webkitRequestFullscreen():videoContainer.requestFullscreen();updateFullscreenButton()}function updateFullscreenButton(){fullscreenIcons.forEach(n=>n.classList.toggle("hidden"));document.fullscreenElement?fullscreenButton.setAttribute("data-title","Exit full screen (F)"):fullscreenButton.setAttribute("data-title","Full screen (F)")}async function togglePip(){try{video!==document.pictureInPictureElement?(pipButton.disabled=!0,await video.requestPictureInPicture()):await document.exitPictureInPicture()}catch(n){console.error(n)}finally{pipButton.disabled=!1}}function hideControls(){video.paused||videoControls.classList.add("hide")}function showControls(){videoControls.classList.remove("hide")}function keyboardShortcuts(n){var t;const{key:i}=n;switch(i){case" ":togglePlay();animatePlayback();video.paused?showControls():setTimeout(()=>{hideControls()},2e3);break;case"m":toggleMute();break;case"f":toggleFullScreen();break;case"p":togglePip();break;case"ArrowRight":t=parseInt(progressBar.value)+10;video.duration<=t&&(seek.value=video.duration);video.currentTime=t;progressBar.value=t;seek.value=t;break;case"ArrowLeft":t=parseInt(progressBar.value)-10;t<=0&&(seek.value=0);video.currentTime=t;progressBar.value=t;seek.value=t;break;case"ArrowUp":parseFloat(volume.value)+.2>=1&&(volume.value=1);volume.value=parseFloat(volume.value)+.2;updateVolume();break;case"ArrowDown":parseFloat(volume.value)-.2<=0&&(volume.value=0);volume.value=parseFloat(volume.value)-.2;updateVolume()}}function nextEpisodeStart(){nextEpisodeStarted||(secs=nextEpisodeDuration,nextEpisodeTimer=setInterval(nextEpisodeUpdate,1e3),nextEpisodeStarted=!0);nextEpisodeWrapper.classList.remove("hide");nextEpisodeWrapper.querySelectorAll(".slide")[0].classList.add("slideAnimation")}function nextEpisodeUpdate(){if(secs<1){nextEpisodeTimeLeft.innerHTML="";clearInterval(nextEpisodeTimer);nextEpisodeStarted=!1;return}secs--;nextEpisodeTimeLeft.innerHTML=" in "+secs+" sec."}var video,videoControls,playButton,playbackIcons,timeElapsed,duration,progressBar,seek,seekTooltip,volumeButton,volumeIcons,volumeMute,volumeLow,volumeMiddle,volumeHigh,volume,playbackAnimation,fullscreenButton,videoContainer,fullscreenIcons,pipButton,videoWorks,nextEpisodeWrapper,nextEpisodeDuration,nextEpisodeTimer,nextEpisodeTimeLeft,nextEpisodeStarted,secs;